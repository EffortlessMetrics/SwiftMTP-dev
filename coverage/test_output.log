warning: 'swiftmtp': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPIndex/LiveIndex/LiveIndexSchema.sql
[0/1] Planning build
[1/1] Compiling plugin GenerateManual
[2/2] Compiling plugin GenerateDoccReference
Building for debugging...
[2/21] Write sources
[3/21] Write swift-version--58304C5D6DBC2206.txt
[5/114] Compiling SnapshotTesting Diffing.swift
[6/114] Compiling SnapshotTesting Wait.swift
[7/115] Emitting module SwiftMTPObservability
[8/115] Compiling InternalCollectionsUtilities UnsafeMutableRawBufferPointer+Extras.swift
[9/115] Compiling CucumberSwiftExpressions WordParameter.swift
[10/116] Compiling SwiftMTPQuirks resource_bundle_accessor.swift
[11/116] Compiling SnapshotTesting NSViewController.swift
[12/116] Compiling SnapshotTesting Data.swift
[13/116] Compiling CucumberSwiftExpressions Position.swift
[14/116] Compiling SwiftMTPQuirks DevicePolicy.swift
[17/116] Compiling SwiftMTPObservability Logger.swift
[18/116] Compiling SwiftMTPObservability Throughput.swift
[19/116] Compiling SnapshotTesting NSImage.swift
[20/116] Compiling SnapshotTesting NSView.swift
[23/116] Compiling InternalCollectionsUtilities UnsafeRawBufferPointer+Extras.swift
[24/116] Compiling SwiftCheck Testable.swift
[25/117] Emitting module CucumberSwiftExpressions
[26/117] Compiling SwiftMTPQuirks QuirkFlags.swift
[27/117] Compiling SnapshotTesting Encodable.swift
[28/117] Compiling SnapshotTesting NSBezierPath.swift
[29/117] Compiling InternalCollectionsUtilities UnsafeMutableBufferPointer+Extras.swift
[30/117] Compiling CucumberSwiftExpressions StringReader.swift
[31/117] Compiling CucumberSwiftExpressions Token.swift
[32/117] Compiling SnapshotTesting XCTAttachment.swift
[33/117] Compiling SnapshotTesting Diff.swift
[34/117] Compiling SnapshotTesting String+SpecialCharacters.swift
[35/117] Compiling SnapshotTesting View.swift
[36/117] Compiling SnapshotTesting Deprecations.swift
[37/117] Compiling SnapshotTesting RecordIssue.swift
[38/117] Compiling SwiftMTPQuirks EffectiveTuning.swift
[39/117] Emitting module SwiftMTPQuirks
[40/117] Compiling SwiftMTPQuirks EffectiveTuningTypes.swift
[41/117] Compiling simple_probe SimpleProbe.swift
[42/117] Emitting module simple_probe
[42/117] Write Objects.LinkFileList
[48/117] Emitting module InternalCollectionsUtilities
[49/140] Compiling SnapshotTesting SceneKit.swift
[50/140] Compiling SnapshotTesting SpriteKit.swift
[51/140] Compiling SnapshotTesting String.swift
[52/140] Compiling SnapshotTesting CALayer.swift
[53/140] Compiling SnapshotTesting CGPath.swift
[54/140] Compiling SnapshotTesting CaseIterable.swift
[55/140] Compiling DequeModule Deque._UnsafeHandle.swift
[56/140] Compiling DequeModule Deque.swift
[57/140] Compiling DequeModule Deque+Codable.swift
[58/143] Compiling SnapshotTesting SwiftUIView.swift
[59/143] Compiling SnapshotTesting UIBezierPath.swift
[60/143] Compiling SnapshotTesting UIImage.swift
[61/143] Compiling DequeModule Deque+Collection.swift
[64/160] Compiling SwiftCheck WitnessedArbitrary.swift
[64/199] Linking simple-probe
[66/402] Compiling HeapModule _HeapNode.swift
[67/402] Compiling HeapModule Heap.swift
[68/402] Compiling SwiftMTPQuirks FallbackSelections.swift
[69/402] Compiling SwiftMTPQuirks QuirkDatabase.swift
[70/402] Compiling HeapModule Heap+Invariants.swift
[71/402] Compiling HeapModule Heap+UnsafeHandle.swift
[71/402] Applying simple-probe
[73/402] Compiling BitCollections BitArray+Hashable.swift
[74/402] Compiling BitCollections BitArray+Initializers.swift
[75/402] Compiling BitCollections BitArray+Invariants.swift
[76/402] Compiling BitCollections BitArray+LosslessStringConvertible.swift
[77/402] Compiling HeapModule Heap+ExpressibleByArrayLiteral.swift
[78/402] Compiling HeapModule Heap+Descriptions.swift
[79/402] Emitting module HeapModule
[80/402] Compiling SwiftCheck State.swift
[81/402] Compiling SwiftCheck Rose.swift
[82/402] Compiling SwiftCheck Test.swift
[83/402] Emitting module SnapshotTesting
[84/402] Compiling BitCollections BitSet+ExpressibleByArrayLiteral.swift
[85/402] Compiling BitCollections BitSet+Extras.swift
[86/402] Compiling BitCollections BitSet+SetAlgebra isStrictSubset.swift
[87/402] Compiling BitCollections BitSet+SetAlgebra isStrictSuperset.swift
[88/402] Compiling BitCollections BitSet+SetAlgebra isSubset.swift
[89/402] Compiling BitCollections BitSet+SetAlgebra isSuperset.swift
[90/402] Compiling BitCollections BitSet+SetAlgebra subtract.swift
[91/402] Compiling BitCollections BitSet+SetAlgebra subtracting.swift
[92/410] Compiling BitCollections BitSet+Initializers.swift
[93/410] Compiling BitCollections BitSet+Invariants.swift
[94/410] Compiling BitCollections BitSet+Random.swift
[95/410] Compiling BitCollections BitSet+SetAlgebra basics.swift
[96/410] Compiling BitCollections BitSet+SetAlgebra conformance.swift
[97/410] Compiling BitCollections BitArray+Shifts.swift
[98/416] Compiling BitCollections BitArray+Descriptions.swift
[99/416] Compiling BitCollections BitArray+Equatable.swift
[100/416] Compiling BitCollections BitArray+ExpressibleByArrayLiteral.swift
[101/416] Compiling BitCollections BitArray+ExpressibleByStringLiteral.swift
[102/416] Compiling BitCollections BitArray+Extras.swift
[103/416] Compiling BitCollections BitArray+Fill.swift
[104/421] Compiling BitCollections BitArray+Codable.swift
[105/421] Compiling BitCollections BitArray+Collection.swift
[106/421] Compiling BitCollections BitArray+BitwiseOperations.swift
[107/421] Compiling BitCollections BitArray+ChunkedBitsIterators.swift
[110/422] Compiling BitCollections BitArray+Copy.swift
[111/422] Compiling BitCollections BitArray+CustomReflectable.swift
[112/422] Compiling BitCollections BitSet+CustomDebugStringConvertible.swift
[113/422] Compiling BitCollections BitSet+CustomReflectable.swift
[114/422] Compiling BitCollections BitSet+CustomStringConvertible.swift
[115/422] Compiling BitCollections BitSet+Equatable.swift
[120/422] Compiling BitCollections BitArray+RandomBits.swift
[121/422] Compiling BitCollections BitArray+RangeReplaceableCollection.swift
[124/422] Compiling BitCollections BitArray+Testing.swift
[125/422] Compiling BitCollections BitArray._UnsafeHandle.swift
[126/422] Compiling BitCollections BitArray.swift
[127/422] Compiling BitCollections BitSet+BidirectionalCollection.swift
[128/422] Compiling BitCollections BitSet+Codable.swift
[129/422] Compiling BitCollections BitSet+SetAlgebra symmetricDifference.swift
[130/422] Compiling BitCollections BitSet+SetAlgebra union.swift
[131/422] Compiling BitCollections BitSet+Sorted Collection APIs.swift
[132/422] Compiling BitCollections BitSet.Counted.swift
[133/422] Compiling BitCollections BitSet.Index.swift
[134/422] Compiling BitCollections BitSet._UnsafeHandle.swift
[135/422] Compiling BitCollections BitSet.swift
[141/422] Compiling BitCollections BitSet+Hashable.swift
[146/422] Compiling DequeModule _DequeBuffer.swift
[147/422] Compiling DequeModule _DequeSlot.swift
[151/422] Compiling HashTreeCollections TreeSet+SetAlgebra isStrictSuperset.swift
[152/422] Compiling HashTreeCollections TreeSet+SetAlgebra isSubset.swift
[153/422] Compiling HashTreeCollections TreeSet+SetAlgebra isSuperset.swift
[154/422] Compiling HashTreeCollections TreeSet+SetAlgebra subtract.swift
[155/422] Compiling HashTreeCollections TreeSet+SetAlgebra subtracting.swift
[156/422] Compiling HashTreeCollections TreeSet+SetAlgebra symmetricDifference.swift
[157/422] Compiling HashTreeCollections TreeSet+SetAlgebra union.swift
[158/422] Compiling HashTreeCollections TreeSet.swift
[165/422] Compiling BitCollections BitSet+SetAlgebra formSymmetricDifference.swift
[166/422] Compiling BitCollections BitSet+SetAlgebra formUnion.swift
[167/422] Compiling BitCollections BitSet+SetAlgebra intersection.swift
[168/422] Compiling BitCollections BitSet+SetAlgebra isDisjoint.swift
[169/422] Compiling BitCollections BitSet+SetAlgebra isEqualSet.swift
[176/422] Compiling BitCollections BitSet+SetAlgebra formIntersection.swift
[201/422] Compiling DequeModule _UnsafeWrappedBuffer.swift
[208/422] Compiling DequeModule _DequeBufferHeader.swift
[215/422] Emitting module DequeModule
[227/422] Compiling BitCollections Range+Utilities.swift
[228/422] Compiling BitCollections Slice+Utilities.swift
[229/422] Compiling BitCollections UInt+Tricks.swift
[230/422] Compiling BitCollections _Word.swift
[243/422] Emitting module SwiftCheck
[252/422] Emitting module BitCollections
[275/429] Compiling OrderedCollections _UnsafeBitset.swift
[276/429] Compiling _RopeModule BigString+UnicodeScalarView.swift
[277/429] Compiling _RopeModule BigSubstring+UTF16View.swift
[278/429] Compiling _RopeModule BigSubstring+UTF8View.swift
[279/429] Compiling _RopeModule BigSubstring+UnicodeScalarView.swift
[280/429] Compiling _RopeModule BigSubstring.swift
[281/429] Compiling _RopeModule Rope+Builder.swift
[282/429] Compiling _RopeModule Rope+Debugging.swift
[283/429] Compiling _RopeModule Rope+Invariants.swift
[284/429] Compiling _RopeModule Rope+Remove.swift
[285/429] Compiling _RopeModule Rope+RemoveSubrange.swift
[286/429] Compiling _RopeModule Rope+Split.swift
[287/429] Compiling _RopeModule Optional Utilities.swift
[288/429] Compiling _RopeModule String Utilities.swift
[289/429] Compiling _RopeModule String.Index+ABI.swift
[290/429] Compiling _RopeModule _CharacterRecognizer.swift
[291/429] Compiling HashTreeCollections TreeDictionary+Equatable.swift
[311/429] Compiling OrderedCollections OrderedSet.swift
[373/429] Emitting module OrderedCollections
[383/429] Emitting module _RopeModule
[407/482] Compiling CucumberSwift ScenarioDSL.swift
[408/482] Compiling CucumberSwift StepBuilder.swift
[409/482] Compiling CucumberSwift StepDSL.swift
[410/482] Compiling CucumberSwift CharacterExtensions.swift
[411/482] Compiling CucumberSwift ASTToken.swift
[412/482] Compiling CucumberSwift Nodes.swift
[413/482] Compiling CucumberSwift Errors.swift
[414/482] Compiling CucumberSwift Language.swift
[415/482] Compiling CucumberSwift MightEqualOperator.swift
[416/482] Compiling CucumberSwift BackgroundDSL.swift
[417/482] Compiling CucumberSwift DSLScenarioOutline.swift
[418/482] Compiling CucumberSwift FeatureDSL.swift
[419/482] Compiling CucumberSwift GherkinDSL.swift
[420/482] Compiling CucumberSwift Matcher.swift
[421/487] Emitting module HashTreeCollections
[422/487] Emitting module CucumberSwift
[423/487] Compiling CucumberSwift CollectionExtensions.swift
[424/487] Compiling CucumberSwift SequenceExtensions.swift
[425/487] Compiling CucumberSwift StringExtensions.swift
[426/487] Compiling CucumberSwift I18n.swift
[427/487] Compiling CucumberSwift AST.swift
[428/487] Compiling CucumberSwift ASTRule.swift
[429/487] Compiling CucumberSwift StepHook.swift
[430/487] Compiling CucumberSwift StepImplementation.swift
[431/487] Compiling CucumberSwift TestObservation.swift
[432/487] Compiling CucumberSwift Method.swift
[433/487] Compiling CucumberSwift StubGenerator.swift
[434/487] Compiling CucumberSwift CucumberTest.swift
[435/487] Compiling CucumberSwift Globals.swift
[436/487] Compiling CucumberSwift FeatureHook.swift
[437/487] Compiling CucumberSwift Hook.swift
[438/487] Compiling CucumberSwift ScenarioHook.swift
[439/489] Compiling Collections Collections.swift
[440/489] Emitting module Collections
[441/489] Compiling CucumberSwift StubGeneratorLexer.swift
[442/489] Compiling CucumberSwift StubGeneratorToken.swift
[443/489] Compiling CucumberSwift TestingExtensions.swift
[444/489] Compiling CucumberSwift TestCaseGenerator.swift
[445/489] Compiling CucumberSwift TestCaseMethod.swift
[446/489] Compiling CucumberSwift RuleDSL.swift
[447/489] Compiling CucumberSwift ScenarioBuilder.swift
[456/489] Compiling CucumberSwift Languages.swift
[457/489] Compiling CucumberSwift Lexer.swift
[458/519] Compiling SwiftMTPCore DeviceLabHarness.swift
[459/519] Compiling SwiftMTPCore DeviceService.swift
[460/519] Compiling SwiftMTPCore LiveIndexStore.swift
[461/519] Compiling SwiftMTPCore MTPStoreProtocols.swift
[462/519] Compiling SwiftMTPCore ProbeReceipt.swift
[463/519] Compiling CucumberSwift Feature.swift
[464/519] Compiling CucumberSwift CucumberTestObserver.swift
[465/519] Compiling CucumberSwift Positionable.swift
[466/519] Compiling CucumberSwift Taggable.swift
[467/519] Compiling CucumberSwift JSONReporter.swift
[468/519] Compiling CucumberSwift ReporterResult.swift
[469/519] Compiling CucumberSwift Cucumber.swift
[470/519] Compiling CucumberSwift RuleParser.swift
[471/519] Compiling CucumberSwift Scenario.swift
[472/519] Compiling CucumberSwift ScenarioOutlineParser.swift
[473/519] Compiling CucumberSwift Scope.swift
[474/519] Compiling CucumberSwift Step.swift
[475/519] Compiling CucumberSwift CucumberTestObservable.swift
[476/519] Compiling SwiftMTPCore DeviceServiceRegistry.swift
[477/519] Compiling SwiftMTPCore Errors.swift
[478/519] Compiling SwiftMTPCore FeatureFlags.swift
[479/522] Compiling SwiftMTPCore QuirkResolver.swift
[480/522] Compiling SwiftMTPCore TransferJournal.swift
[481/522] Compiling SwiftMTPCore TransportDiscovery.swift
[485/522] Compiling SwiftMTPCore MTPExtensions.swift
[486/522] Compiling SwiftMTPCore PTPCodec.swift
[487/522] Compiling SwiftMTPCore PTPLayer.swift
[488/522] Compiling SwiftMTPCore MTPDevice+Compat.swift
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceLabHarness.swift:398:15: warning: variable 'session' was never mutated; consider changing to 'let' constant
396 |   @discardableResult
397 |   public func endSession() -> RecordingSession? {
398 |     guard var session = currentSessionData else { return nil }
    |               `- warning: variable 'session' was never mutated; consider changing to 'let' constant
399 |     
400 |     let totalRequests = session.entries.filter { $0.direction == .request }.count

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceService.swift:130:24: warning: no 'async' operations occur within 'await' expression
128 |                     }
129 |                 }
130 |                 Task { await self.enqueue(op) }
    |                        `- warning: no 'async' operations occur within 'await' expression
131 |             }
132 |         }
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceLabHarness.swift:398:15: warning: variable 'session' was never mutated; consider changing to 'let' constant
396 |   @discardableResult
397 |   public func endSession() -> RecordingSession? {
398 |     guard var session = currentSessionData else { return nil }
    |               `- warning: variable 'session' was never mutated; consider changing to 'let' constant
399 |     
400 |     let totalRequests = session.entries.filter { $0.direction == .request }.count

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceService.swift:130:24: warning: no 'async' operations occur within 'await' expression
128 |                     }
129 |                 }
130 |                 Task { await self.enqueue(op) }
    |                        `- warning: no 'async' operations occur within 'await' expression
131 |             }
132 |         }
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceLabHarness.swift:398:15: warning: variable 'session' was never mutated; consider changing to 'let' constant
396 |   @discardableResult
397 |   public func endSession() -> RecordingSession? {
398 |     guard var session = currentSessionData else { return nil }
    |               `- warning: variable 'session' was never mutated; consider changing to 'let' constant
399 |     
400 |     let totalRequests = session.entries.filter { $0.direction == .request }.count

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/SwiftMTPCore/Public/DeviceService.swift:130:24: warning: no 'async' operations occur within 'await' expression
128 |                     }
129 |                 }
130 |                 Task { await self.enqueue(op) }
    |                        `- warning: no 'async' operations occur within 'await' expression
131 |             }
132 |         }
[491/522] Compiling SwiftMTPCore Proto+Transfer.swift
[492/522] Compiling SwiftMTPCore SubstrateHardening.swift
[493/522] Compiling SwiftMTPCore SubstrateProfiling.swift
[494/522] Compiling SwiftMTPCore DeviceFilter.swift
[495/522] Compiling SwiftMTPCore Exit.swift
[496/522] Compiling SwiftMTPCore JSONIO.swift
[497/522] Compiling SwiftMTPCore Spinner.swift
[498/522] Compiling SwiftMTPCore LearnedProfile.swift
[499/522] Compiling SwiftMTPCore MTPDevice.swift
[500/522] Compiling SwiftMTPCore DeviceIdentityResolver.swift
[501/522] Emitting module SwiftMTPCore
[502/522] Compiling SwiftMTPCore SendableAdapters.swift
[503/522] Compiling SwiftMTPCore TransferIO.swift
[504/522] Compiling SwiftMTPCore TransportProtocols.swift
[505/522] Compiling SwiftMTPCore BusyBackoff.swift
[506/522] Compiling SwiftMTPCore DeviceActor+Transfer.swift
[507/522] Compiling SwiftMTPCore DeviceActor.swift
[508/522] Compiling SwiftMTPCore FallbackLadder.swift
[509/560] Compiling SwiftMTPIndex EventBridge.swift
[510/561] Compiling SwiftMTPIndex SQLiteHelpers.swift
[511/561] Emitting module SwiftMTPIndex
[512/561] Compiling PropertyTests MutationTests.swift
[513/561] Compiling PropertyTests PTPCodecFuzzTests.swift
[514/561] Compiling PropertyTests ModelPropertyTests.swift
[515/561] Compiling SwiftMTPTransportLibUSB MockTransport.swift
[516/562] Compiling SwiftMTPIndex DeviceIndexOrchestrator.swift
[517/562] Compiling SwiftMTPIndex DiffEngine.swift
[518/562] Compiling SwiftMTPIndex TransferJournal.swift
[519/562] Compiling SwiftMTPIndex PathKey.swift
[520/562] Compiling SwiftMTPIndex Snapshotter.swift
[521/562] Compiling SwiftMTPStore DeviceEntity.swift
[522/562] Compiling SwiftMTPStore LearnedProfileEntity.swift
[523/562] Compiling SwiftMTPTransportLibUSB USBDeviceWatcher.swift
[524/562] Compiling SwiftMTPStore MTPObjectEntity.swift
[525/562] Compiling SwiftMTPStore MTPStorageEntity.swift
[526/562] Compiling SwiftMTPStore TransferEntity.swift
[527/562] Compiling SwiftMTPStore SwiftMTPStore.swift
[528/562] Compiling SwiftMTPStore ProfilingMetricEntity.swift
[529/562] Compiling SwiftMTPStore ProfilingRunEntity.swift
[530/562] Compiling SwiftMTPStore SnapshotEntity.swift
[531/562] Emitting module SwiftMTPStore
[534/562] Compiling SwiftMTPStore SubmissionEntity.swift
[535/562] Compiling SwiftMTPStore StoreActor.swift
[536/563] Compiling SwiftMTPIndex IndexManager.swift
[537/563] Compiling SwiftMTPIndex SQLiteLiveIndex.swift
[538/563] Compiling PropertyTests CoreModelPropertyTests.swift
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Tests/PropertyTests/CoreModelPropertyTests.swift:509:17: warning: initialization of immutable value 'completedTransfers' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
 507 |             
 508 |             // Simulate completed transfers
 509 |             let completedTransfers = ["completed-1", "completed-2"]
     |                 `- warning: initialization of immutable value 'completedTransfers' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
 510 |             
 511 |             // Compact: remove completed, keep pending

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Tests/PropertyTests/CoreModelPropertyTests.swift:638:21: warning: immutable value 'parsedComponents' was never used; consider replacing with '_' or removing it [#no-usage]
 636 |         ) { storageId, components in
 637 |             let normalized = PathKey.normalize(storage: storageId, components: components)
 638 |             let (_, parsedComponents) = PathKey.parse(normalized)
     |                     `- warning: immutable value 'parsedComponents' was never used; consider replacing with '_' or removing it [#no-usage]
 639 |             
 640 |             // Compare normalized components

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Tests/PropertyTests/CoreModelPropertyTests.swift:641:17: warning: initialization of immutable value 'normalizedInput' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
 639 |             
 640 |             // Compare normalized components
 641 |             let normalizedInput = components.map { PathKey.normalizeComponent($0) }
     |                 `- warning: initialization of immutable value 'normalizedInput' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
 642 |             
 643 |             return true

/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Tests/PropertyTests/CoreModelPropertyTests.swift:783:17: warning: variable 'previousRate' was never used; consider replacing with '_' or removing it [#no-usage]
 781 |         ) { bytes, dt, count in
 782 |             var ewma = ThroughputEWMA()
 783 |             var previousRate: Double = 0
     |                 `- warning: variable 'previousRate' was never used; consider replacing with '_' or removing it [#no-usage]
 784 |             
 785 |             for _ in 0..<count {
[539/563] Emitting module PropertyTests
[540/571] Emitting module SwiftMTPSync
[541/571] Compiling SwiftMTPStore SwiftMTPStoreAdapter.swift
[542/571] Emitting module SnapshotTests
[543/571] Compiling SnapshotTests VisualRegressionTests.swift
[544/571] Compiling SwiftMTPTransportLibUSB PTPContainer+USB.swift
[545/571] Compiling SwiftMTPTransportLibUSB MockTransportFactory.swift
[546/571] Compiling SwiftMTPTransportLibUSB MockDeviceDatabase.swift
[547/571] Compiling SwiftMTPTransportLibUSB InterfaceProbe.swift
[548/571] Compiling SwiftMTPTransportLibUSB LibUSBTransportFactory.swift
[549/571] Compiling SwiftMTPTransportLibUSB LibUSBContext.swift
[550/571] Compiling SwiftMTPTransportLibUSB ManagerBridge.swift
[551/571] Emitting module SwiftMTPTransportLibUSB
[552/571] Compiling SwiftMTPTransportLibUSB LibUSBTransport.swift
[553/571] Compiling SnapshotTests SnapshotVerificationTests.swift
[554/571] Compiling SnapshotTests TestView.swift
[555/571] Compiling SnapshotTests ModelSnapshotTests.swift
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Tests/SnapshotTests/ModelSnapshotTests.swift:25:25: warning: 'diffTool' is deprecated: Use 'withSnapshotTesting' to customize the diff tool. See the documentation for more information. [#DeprecatedDeclaration]
 23 |     override func setUp() {
 24 |         super.setUp()
 25 |         SnapshotTesting.diffTool = "ksdiff"
    |                         `- warning: 'diffTool' is deprecated: Use 'withSnapshotTesting' to customize the diff tool. See the documentation for more information. [#DeprecatedDeclaration]
 26 |     }
 27 | 

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[556/571] Compiling SwiftMTPSync SyncEngine.swift
[557/571] Compiling SwiftMTPSync MirrorEngine.swift
[558/605] Emitting module SwiftMTPFuzz
[559/605] Compiling SwiftMTPFuzz main.swift
[559/605] Write Objects.LinkFileList
[561/605] Emitting module BDDTests
[562/605] Compiling BDDTests resource_bundle_accessor.swift
[563/605] Compiling BDDTests CucumberTests.swift
[564/607] Emitting module SwiftMTPPackageTests
[565/607] Compiling SwiftMTPPackageTests runner.swift
[565/607] Write Objects.LinkFileList
[567/607] Compiling test_xiaomi main.swift
/Users/steven/Code/Mac/Swift/SwiftMTP/SwiftMTPKit/Sources/Tools/test-xiaomi/main.swift:135:36: warning: conditional cast from 'any Error' to 'NSError' always succeeds
133 |         } catch {
134 |             print("âŒ Test failed: \(error)")
135 |             if let nsError = error as? NSError {
    |                                    `- warning: conditional cast from 'any Error' to 'NSError' always succeeds
136 |                 print("   Error domain: \(nsError.domain), code: \(nsError.code)")
137 |             }
[568/607] Emitting module test_xiaomi
[568/607] Write Objects.LinkFileList
[569/607] Linking SwiftMTPFuzz
[570/607] Applying SwiftMTPFuzz
[572/607] Compiling swiftmtp_cli ProfileCommand.swift
[573/607] Compiling swiftmtp_cli Redaction.swift
[574/609] Compiling SwiftMTPXPC Protocol.swift
[575/609] Compiling SwiftMTPXPC MTPXPCServiceImpl.swift
[576/609] Emitting module SwiftMTPXPC
[577/609] Compiling SwiftMTPXPC MTPXPCListener.swift
[578/609] Compiling swiftmtp_cli Redactor.swift
[579/609] Compiling swiftmtp_cli SpinnerCompat.swift
[580/609] Compiling swiftmtp_cli StorybookCommand.swift
[581/609] Compiling swiftmtp_cli SubmitCommand.swift
[582/609] Compiling swiftmtp_cli CLIState.swift
[583/609] Compiling swiftmtp_cli DeviceOpen.swift
[584/616] Compiling swiftmtp_cli BDDCommand.swift
[585/616] Compiling swiftmtp_cli CollectCLICommand.swift
[586/616] Compiling swiftmtp_cli DeleteMoveEventsCommands.swift
[587/616] Compiling swiftmtp_cli WizardCommand.swift
[588/616] Compiling swiftmtp_cli GitHubIntegration.swift
error: link command failed with exit code 1 (use -v to see invocation)
ld: warning: Could not parse or use implicit file '/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/System/Library/Frameworks/SwiftUICore.framework/Versions/A/SwiftUICore.tbd': cannot link directly with 'SwiftUICore' because product being built is not an allowed client of it
Undefined symbols for architecture arm64:
  "SwiftMTPStore.MTPObjectEntity.compoundId.getter : Swift.String", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testCompoundIdFormatIsValid() -> () in CoreModelPropertyTests.swift.o
  "SwiftMTPStore.MTPObjectEntity.name.getter : Swift.String", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
  "SwiftMTPStore.MTPObjectEntity.handle.getter : Swift.Int", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
  "SwiftMTPStore.MTPObjectEntity.__allocating_init(deviceId: Swift.String, storageId: Swift.Int, handle: Swift.Int, parentHandle: Swift.Int?, name: Swift.String, pathKey: Swift.String, sizeBytes: Swift.Int64?, modifiedAt: Foundation.Date?, formatCode: Swift.Int, generation: Swift.Int, tombstone: Swift.Int) -> SwiftMTPStore.MTPObjectEntity", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testCompoundIdFormatIsValid() -> () in CoreModelPropertyTests.swift.o
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
  "SwiftMTPStore.MTPObjectEntity.deviceId.getter : Swift.String", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
  "SwiftMTPStore.MTPObjectEntity.storageId.getter : Swift.Int", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
  "type metadata accessor for SwiftMTPStore.MTPObjectEntity", referenced from:
      closure #1 (Swift.String, Swift.Int, Swift.UInt32) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testCompoundIdFormatIsValid() -> () in CoreModelPropertyTests.swift.o
      closure #1 (Swift.String, Swift.Int, Swift.UInt32, Swift.String, Swift.UInt64) -> SwiftCheck.Testable in implicit closure #1 () -> SwiftCheck.Testable in PropertyTests.MTPObjectEntityPropertyTests.testMTPObjectEntityFieldConsistency() -> () in CoreModelPropertyTests.swift.o
ld: symbol(s) not found for architecture arm64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
[588/616] Linking SwiftMTPPackageTests
[588/616] Linking test-xiaomi
error: fatalError
